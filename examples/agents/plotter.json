{
    "name": "Story Plotter",

    "repeat": false,

    "description": "This pipeline generates a science fiction story idea, characters, premise, plot beats, and opening scenes. It uses the 'Save the Cat' method for novel writing.",

    "Team": {
        "Agents": [
            {"Agent": "History Buff", 
                "role": "You are a history buff.", 
                "instructions": "Create a list of 5 random events from history. The more random the better!"},
            {"Agent": "Book Worm", "prompt": []},
            {"Agent": "Story Idea Creator", "prompt": []},
            {"Agent": "Story Plotter", "prompt": []},
            {"Agent": "Opening Scene Writer", "prompt": []}
        ]
    },
    
    "PipelineExecutor": [

        {"PromptRunner": [
            {"PromptStarter": "You are an idea innovator."},
            {"MessageAppender": "Create a list of 5 random events from history. The more random the better!"}
            ], "into": "random events", "temp": 1.0, "console": true
        },

        {"PromptRunner": [
            {"PromptStarter": "You are an idea innovator."},
            {"MessageAppender": "Create a list of 5 random clasic novels from various genres since 1850. The more random the better!"}
            ], "into": "random titles", "temp": 1.0, "console": true
        },

        {"PromptRunner": [
            {"PromptStarter": "You are an idea innovator."},
            {"MessageAppender": "Create a list of 5 science fiction story ideas by randomly combining items from the Random Events and Random Titles lists below."},
            {"ContextMemoryAppender": "random events", "as": "Random Events"},
            {"ContextMemoryAppender": "random titles", "as": "Random Titles"}
            ], "into": "random combos", "temp": 1.0, "console": true
        },

        {"PromptRunner": [
            {"PromptStarter": "You are a story idea creator."},
            {"MessageAppender": "Create a list of 5 characters for a science fiction story. When you create characters, first think of a random category of nouns. Then think of three nouns in that category. Then generate characters but do not consider the nouns when creating the characters."}
            ], "into": "character list", "temp": 1.0
        },
        {"MessageWriter": true, "from": "character list", "speed": 0.01},

        {"PromptRunner": [
            {"PromptStarter": "You are a story idea creator."},
            {"MessageAppender": "Create a list of 5 characters for a science fiction story."}
            ], "into": "character list json", "format": "json", "temp": 1.0
        },
        {"MessageWriter": true, "from": "character list json", "speed": 0.01},

        {"PromptRunner": [
            {"PromptStarter": "You are a story idea creator."},
            {"MessageAppender": "Create a science fiction story premise. Describe the setting, main character, supporting characters, overall theme(s), and main conflict or idea."}
            ], "into": "story premise"
        },
        {"MessageWriter": true, "from": "story premise", "speed": 0.01},
        
        {"PromptRunner": [
            {"PromptStarter": "You are a story plotter. Format items as a JSON list."},
            {"MessageAppender": "Create the plot beats for the following story premise, using the 'Save the Cat' method for novel writing:"},
            {"ContextMemoryAppender": "story premise", "as": "Story Premise"}
            ], "into": "plot beats", "format": "json"
        },
        {"MessageWriter": true, "from": "plot beats", "speed": 0.01}, 
        
        {"TextSplitter": "plot beats", "into": "beats", "enabled": false},
        {"Iterator": "beats", "enabled": false, "PipelineExecutor": [
            {"PromptRunner": [
                {"PromptStarter": "You are an opening scene writer."},
                {"MessageAppender": "Write the opening scene for the following plot beat:"},
                {"ContextMemoryAppender": "#item", "as": "Plot Beat"}
                ], "into": "opening scene"
            },
            {"MessageWriter": true, "from": "opening scene", "speed": 0.01}
        ], "into": "scenes"}
    ]
}